---
import Layout from "@layouts/Layout.astro";
import Header from "@components/Header.astro";
import Footer from "@components/Footer.astro";
---

<Layout>
  <Header />
  <main id="main-content">
    <section id="hero">
      <h1>After 9 Years...</h1>
      <div class="wedding-date">
        <p class="date-text">
          Friday, June 27th 2025
          <br />
          Seattle, Washington
        </p>
      </div>

      <p class="welcome-text">
        Join us as we celebrate our love and thank those who have helped us along the way. We're creating
        this space to share our story and keep you updated with all the important details
        about our special day.
      </p>

      <div class="countdown-wrapper">
        <p class="countdown-text">Counting down the days...</p>
        <div class="countdown" id="countdown">
          <!-- Countdown will be populated by JavaScript -->
        </div>
      </div>

    </section>
  </main>

  <Footer />
</Layout>

<style>
    /* ===== Hero Section ===== */
    #hero {
        @apply pb-6 pt-8;
    }
    #hero h1 {
        @apply my-4 inline-block text-4xl font-bold sm:my-8 sm:text-6xl;
    }
    .wedding-date {
        @apply flex mb-8;
    }
    .date-text {
        @apply text-xl font-medium;
    }
    .welcome-text {
        @apply my-6 max-w-2xl mx-auto text-lg;
    }
    .countdown-wrapper {
        @apply mt-8 mb-6;
    }
    .countdown-text {
        @apply text-lg font-medium mb-4;
    }
    .countdown {
        @apply flex justify-center gap-6 text-center;
    }
    .social-wrapper {
        @apply mt-8 flex flex-col sm:flex-row sm:items-center justify-center;
    }
    .social-links {
        @apply mb-1 mr-2 whitespace-nowrap sm:mb-0;
    }

    /* ===== Updates Section ===== */
    #updates {
        @apply pb-6 pt-12;
    }
    #updates h2 {
        @apply text-2xl font-semibold tracking-wide text-center mb-8;
    }
</style>

<script>
  function updateCountdown() {
    const weddingDate = new Date('2025-06-27T00:00:00');
    const now = new Date();
    const diff = weddingDate - now;

    const days = Math.floor(diff / (1000 * 60 * 60 * 24));
    const hours = Math.floor((diff % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
    const minutes = Math.floor((diff % (1000 * 60 * 60)) / (1000 * 60));

    const countdown = document.getElementById('countdown');
    countdown.innerHTML = `
      <div>
        <span class="text-3xl font-bold">${days}</span>
        <br/>
        <span class="text-sm">days</span>
      </div>
      <div>
        <span class="text-3xl font-bold">${hours}</span>
        <br/>
        <span class="text-sm">hours</span>
      </div>
      <div>
        <span class="text-3xl font-bold">${minutes}</span>
        <br/>
        <span class="text-sm">minutes</span>
      </div>
    `;
  }

  // Update countdown immediately and then every minute
  updateCountdown();
  setInterval(updateCountdown, 60000);
</script>